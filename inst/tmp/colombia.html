<!DOCTYPE html>
<meta charset="utf-8">

<body style="background-color:black">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <!-- I recommend you host this file on your own, since this will change without warning -->
    <script src="http://datamaps.github.io/scripts/datamaps.world.min.js?v=1"></script>

    <!-- <div id="container1" style="position: relative; width: 80%; max-height: 450px;"></div> -->
    <div id="container1" width="100%" style="background-color:white"></div>

    <script>
    //basic map config with custom fills, mercator projection

    var width = parseInt(d3.select('#container1').style('width'))

    var map = new Datamap({
        element: document.getElementById('container1'),
        geographyConfig: {
            borderColor: '#f5f8ef',
            highlightFillColor: '#516a52',
            highlightBorderColor: '#279945',
            highlightBorderWidth: 2,
            popupTemplate: function(geography, data) {
                return '<div class="hoverinfo">' + geography.properties.name
            },
            dataUrl: 'js/depto.topo.json'
        },
        responsive: true,
        // aspectRatio: 0.5,
        scope: 'depto',
        // Zoom in on Africa
        setProjection: function(element) {
            var projection = d3.geo.mercator()
                .center([-74.4, 4.3])
                .rotate([0, 0])
                .scale(2*element.offsetWidth)
                .translate([element.offsetWidth / 2, element.offsetHeight / 2]);
            var path = d3.geo.path()
                .projection(projection);

            return {
                path: path,
                projection: projection
            };
        },

        fills: {
            defaultFill: '#31D57C',
            latam: 'rgba(0,244,244,0.9)',
            gt50: 'red'
        },

        data: {
            "05": {
                fillKey: 'latam'
            },
            CHL: {
                fillKey: 'latam'
            },
            BOL: {
                fillKey: 'latam'
            },
            BRA: {
                fillKey: 'latam'
            },
            ARG: {
                fillKey: 'latam'
            },
            COL: {
                fillKey: 'latam'
            },
            VEN: {
                fillKey: 'latam'
            },
            PER: {
                fillKey: 'latam'
            },
            URU: {
                fillKey: 'latam'
            }
        }
    })


    //sample of the arc plugin

    //bubbles, custom popup on hover template


    //make responsive
    //alternatively with d3
    d3.select(window).on('resize', function() {
        map.resize();
    });

    </script>
</body>
